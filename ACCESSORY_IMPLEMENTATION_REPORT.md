# フォトアクセサリー商品追加 実装レポート

## 実装概要
フォトアクセサリーに関する商品を新しい商品カテゴリーとして追加しました。
既存のカレンダー商品と同じ方式で、新しい商品配列を作成し、読み込み時にマージする方式を採用しています。

## 実装内容

### 1. 新しいカテゴリーの追加
- **ファイル**: `src/assets/categories.ts`
- **追加内容**: 'accessory' カテゴリーを追加
  - ID: 'accessory'
  - 名前: 'アクセサリー'
  - アイコン: SparklesIcon
  - 短縮名: 'アクセサリー'

### 2. アクセサリー商品データファイルの作成
- **ファイル**: `src/assets/accessory-products.ts`
- **商品数**: 17商品
- **ID範囲**: 300-316 (既存商品との競合を避けるため)

### 3. 商品ストアの更新
- **ファイル**: `src/stores/products.ts`
- **変更内容**:
  - accessoryProducts のインポート追加
  - allProducts 配列に accessoryProducts をマージ

## 追加された商品一覧

| ID | 商品名 | バリエーション | 価格 | カット数 |
|----|--------|----------------|------|----------|
| 300 | IDカードホルダー | 1カット | ¥4,980 | 1 |
| 301 | キーホルダー フォトホルダー | 2カット | ¥3,480 | 2 |
| 302 | クリアキーホルダー | 丸型/角形 1カット | ¥1,280 | 1 |
| 303 | クリアキーホルダー | 丸型/角形 2カット | ¥2,480 | 2 |
| 304 | クリアキーホルダー | キャラクター 1カット | ¥2,480 | 1 |
| 305 | フォトマグネットシート | 1カット | ¥1,980 | 1 |
| 306 | フォトマグネットシート | 2カット | ¥2,480 | 2 |
| 307 | マルチフォト缶（缶バッジ） | 1カット | ¥1,280 | 1 |
| 308 | キッズトレカ | オーロラ/アクア 1枚 1カット | ¥1,500 | 1 |
| 309 | キッズトレカ | オーロラ/アクア 3枚セット 3カット | ¥4,000 | 3 |
| 310 | キッズトレカ | キャラクター 1枚 1カット | ¥2,000 | 1 |
| 311 | キッズトレカ | キャラクター 3枚セット 3カット | ¥4,500 | 3 |
| 312 | シールプリント | 1カット | ¥1,280 | 1 |
| 313 | クラッチフォト | 2カット | ¥4,800 | 2 |
| 314 | アクリルスタンドミニ | 1カット | ¥3,980 | 1 |
| 315 | クリアフォト | ストーリー 1カット | ¥4,200 | 1 |
| 316 | クリアフォト | フィルム 2カット | ¥4,500 | 2 |

## 特記事項

### バリエーション商品の実装
同じ商品名で複数のバリエーションがある商品は、既存のシステムの商品グループ化機能により自動的にグループ化されます：

- **クリアキーホルダー**: 3つのバリエーション（丸型/角形1カット、丸型/角形2カット、キャラクター1カット）
- **フォトマグネットシート**: 2つのバリエーション（1カット、2カット）
- **キッズトレカ**: 4つのバリエーション（オーロラ/アクア各1枚・3枚セット、キャラクター各1枚・3枚セット）
- **クリアフォト**: 2つのバリエーション（ストーリー、フィルム）

### キャラクター商品の特別仕様
- **クリアキーホルダー キャラクター**: スーパーマリオ クロマキー撮影専用の商品として説明を追加

## 技術的な実装詳細

### ファイル構造
```
src/
├── assets/
│   ├── accessory-products.ts  (新規作成)
│   ├── categories.ts          (更新)
│   ├── calendar-products.ts   (既存)
│   └── products.ts            (既存)
└── stores/
    └── products.ts            (更新)
```

### データ統合方式
```typescript
// products.ts store内
const allProducts = [...productsData, ...calendarProducts, ...accessoryProducts] as ProductType[];
```

この方式により、既存の商品データを変更することなく、新しいアクセサリー商品を安全に追加できています。

## 動作確認

実装後、以下の機能が正常に動作することを確認してください：

1. **カテゴリー表示**: サイドバーに「アクセサリー」カテゴリーが表示される
2. **商品一覧**: アクセサリーカテゴリーを選択すると17商品が表示される
3. **商品グループ化**: 同名商品が適切にバリエーションとしてグループ化される
4. **カート機能**: アクセサリー商品をカートに追加できる
5. **フィルタリング**: 価格やポーズ数でのフィルタリングが正常に動作する
6. **ソート機能**: 商品掲載順、価格順、ポーズ数順でのソートが正常に動作する

## 今後の拡張性

この実装により、今後新しい商品カテゴリーを追加する際も同様の方式で安全に拡張できます：

1. 新しいカテゴリーを `categories.ts` に追加
2. 新しい商品データファイルを作成（例：`xxx-products.ts`）
3. `products.ts` store で新しい商品配列をインポート・マージ

この方式により、既存のデータを変更するリスクを最小限に抑えながら、システムを拡張できます。